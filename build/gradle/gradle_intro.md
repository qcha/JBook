## Обзор

Gradle - это система управления сборкой на основе Groovy (стандартный язык описания задач для Gradle), разработанная специально
для создания проектов на основе Java.

Основной файл настройки вашего билда - Gradle Build Script - это build.gradle - в этом файле описывается то, какие 
библиотеки и фрэймворки использует наш проект, какие плагины нужно подключить к проекту и описывает различные таски.

### Инициализация проекта Gradle

Как было сказано ранее, Gradle - это выполнение задач, называемых task. Они предоставляются различными плагинами (plugins).
Есть набор "Core Plugins" - это стандартный набор, который есть всегда, когда установлен Gradle.

Создание проекта по шаблону, выполним Gradle таск:
`gradle init --type java-application`

После создания мы получим следующий набор файлов:
```
my-app
|-- .gradle
|-- gradle
|   `-- wrapper
|       |-- gradle-wrapper.jar
|       `-- gradle-wrapper.properties
|-- src
|   `-- ...
|-- build.gradle
|-- gradle.gradle
|-- gradlew.bat
`-- settings.gradle
```

После инициализации мы получаем преднастроенный на нашу версию Gradle специальный враппер - это такой специальный скрипт
который вызывает объявленную версию Gradle, при необходимости загружая ее заранее. Также создается файл `build.gradle` в котором
описан сам проект.

### Как работает Gradle?
В общем виде Gradle создает текстовый файл сценария сборки (BuildScript), состоящей из следующих компонентов:
* `Project (проект)` - это конечный результат работы сценария. Он представляет собой JAR-файл, WEB-приложение или zip-файл.
Проект может как состоять из одного модуля (одномодульный проект), так и из нескольких (многомодульный проект). Во втором случае
каждый модуль можно рассматривать как самостоятельный Gradle-проект.
* `Task (задачи)` - это набор действий с проектом. Задачи могут быть связаны друг с другом. Под сборкой проекта понимается 
выполнение одной или нескольких связанных задач. Проект считается успешно собранным, когда выполняется задача или набор 
связанных задач.
* `Dependency (зависимости)` - зависимости бывают внешними и внутренними. Внешние — библиотеки, созданные разработчиками 
со всего мира и расположенные в репозиториях (repositories). Внутренние (подмодули в многомодульных проектах) — библиотеки, 
разработанные внутри текущего проекта и оформленные в виде подмодуля.

Описание проекта находится в файле build.gradle, настройки указываются в файле gradle.settings.

### Dependencies
Одной из главных задач любой системы сборки – управление зависимостями, то есть тем, какие библиотеки и фрэймворки нужны 
нашему проекту. Система сборки должна обеспечить их наличие в нужный момент и нужным образом собрать конечный артефакт 
нашего приложения. По умолчанию после gradle init для java-application мы увидим следующее содержимое в `build.gradle`:
```
dependencies {
    implementation 'com.google.guava:guava:26.0-jre'
    testImplementation 'junit:junit:4.12'
}
```

Тут сразу понятно, что мы подключаем. Но без некоторого понимания непонятно, что за implementation и testImplementation?
Называется это "Managing Dependency Configurations". Как сказано в документации, каждая зависимость объявляется с некоторым 
scope - областью, в рамках которой данная зависимость будет доступна.

### Типы зависимостей
У Gradle бывают два типа зависимостей - runtime и compile-time. Хорошо объясняет положение вещей следующий рисунок:

![alt text](https://habrastorage.org/getpro/habr/upload_files/ec4/60a/56d/ec460a56d4047496346cb75ca27a0b85.png)

При подключении зависимостей в compileClasspath, мы получим runtime exception при попытке достучаться до кода зависимости 
во время выполнения, поскольку зависимость не попала в приложение. Но в то же время код зависимости будет доступен на этапе 
сборки проекта. Подключая зависимости в runtimeClasspath, мы гарантируем их попадание в приложение, а значит, и безопасность 
выполнения кода в runtime. Здесь-то и приходит понимание, что implementation и api добавляют зависимости в оба classpath-а. 
При этом api также позволяет получить доступ к коду gradle-проекта в случае его транзитивного подключения.

В качестве apiElements и runtimeElements на рисунке обозначен код, который мы хотим отдать на использование в другие gradle-модули.  