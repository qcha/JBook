# Index в where

## Условие

На таблице постов существует следующий индекс:

```sql
create index on post (owner_id)
```

Будет ли попадаение в индекс при выполнении подобного запроса:

```sql
select
    * 
from
    post
where
    likes_count > ? 
and 
    owner_id = ?
```

В задаче мы не рассматриваем использование статистики или специфичное поведение раличных движков, проверяется именно общий подход в среднем, то, как это обычно работает.

## Решение

Нет, в индекс в таком случае мы не попадаем, так как в where у нас используется выборка по `likes_count`.

Необходимо изменить индекс на:

```sql
create index on post (owner_id, likes_count)
```

В таком случае попадание будет.

При этом, по правилу левого префикса, попадание будет и в следующем запросе:

```sql
select
    *
from
    post 
where
    owner_id = ?
```
