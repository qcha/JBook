# Анализ контракта взаимодействия

## Условие

Дан эндпоинт `add-items-to-cart` (HTTP, метод POST), добавляющий предметы в корзину пользователя, со следующим контрактом:

```json
{
  "user_id": 0,
  "cart": {
    "items": [
      {
        "item_id": 0,
        "quantity": 0
      }
    ]
  }
}
```

После корректного выполнения возвращает новое состояние корзины:

```json
{
  "cart": {
    "items": [
      {
        "item_id": 0,
        "name": "string",
        "description": "string",
        "quantity": 0,
        "price": 0
      }
    ]
  },
  "total_price": 0
}
```

Что нужно проверить при тестировании данного эндпоинта?

## Решение

Cледует убедиться, что передаваемый `user_id` в принципе существует, также как и `item_id` в массиве `items`. 

Важным критерием станет, хватит ли на этого пользователя предметов с переданным `item_id`. Нужно проверять, что итоговая `quantity` не превышает лимита.

Также, можно проверять, что приложение корректно обрабатывает ситуации несоответсвия типов. Например, если передать вместо целого числа в качестве `user_id` какую-то строку. 

В ответе следует проверить, что поля `quantity` совпадают с переданными, а `total_price` - корректная сумма всех предметов с учетом их количества.